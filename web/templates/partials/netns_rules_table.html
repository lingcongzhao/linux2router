{{define "netns_rules_table"}}
{{$namespaceName := .NamespaceName}}
<div class="table-container">
    <div class="table-wrapper">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Priority</th>
                    <th>From</th>
                    <th>To</th>
                    <th>FWMark</th>
                    <th>IIF</th>
                    <th>OIF</th>
                    <th>Action/Table</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {{range .Rules}}
                <tr>
                    <td class="font-medium text-gray-900">{{.Priority}}</td>
                    <td class="mono">{{if .Not}}<span class="text-red-500">not </span>{{end}}{{if .From}}{{.From}}{{else}}all{{end}}</td>
                    <td class="mono">{{if .To}}{{.To}}{{else}}-{{end}}</td>
                    <td class="mono">{{if .FWMark}}{{.FWMark}}{{else}}-{{end}}</td>
                    <td>{{if .IIF}}{{.IIF}}{{else}}-{{end}}</td>
                    <td>{{if .OIF}}{{.OIF}}{{else}}-{{end}}</td>
                    <td>
                        {{if .Table}}
                        <span class="badge badge-blue">lookup {{.Table}}</span>
                        {{else if .Action}}
                        <span class="badge badge-yellow">{{.Action}}</span>
                        {{end}}
                    </td>
                    <td>
                        {{if and (ne .Priority 0) (ne .Priority 32766) (ne .Priority 32767)}}
                        <button class="btn btn-sm btn-danger"
                                data-action="/netns/{{$namespaceName}}/rules/{{.Priority}}"
                                data-method="DELETE"
                                data-message="Delete rule with priority {{.Priority}}?"
                                onclick="showActionModal(this)">
                            Delete
                        </button>
                        {{else}}
                        <span class="text-gray-400 text-sm">System rule</span>
                        {{end}}
                    </td>
                </tr>
                {{else}}
                <tr>
                    <td colspan="8" class="text-center text-gray-500">No rules configured</td>
                </tr>
                {{end}}
            </tbody>
        </table>
    </div>
</div>
{{end}}
